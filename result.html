<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024학년도 2학기 2차고사 성적 조회 결과</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        table {
            text-align: center;
        }
        th, td {
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center"><strong>2024학년도 2학기 2차고사 성적 및 출결 정보</strong></h1>
        <div id="result" class="mt-4"></div>
        <button class="btn btn-secondary w-100 mt-4" onclick="window.location.href='index.html'">다시 조회하기</button>
    </div>

    <script>
        const student = JSON.parse(localStorage.getItem('studentData'));
        if (!student) {
            alert('잘못된 접근입니다.');
            window.location.href = 'index.html';
        }

        const totalStudentsClass = localStorage.getItem('totalStudentsClass');
        const totalStudentsGrade = localStorage.getItem('totalStudentsGrade');

        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = `
            <h3><strong>${student.성명} 학생의 성적</strong></h3>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>국어</th>
                        <th>도덕</th>
                        <th>사회</th>
                        <th>수학</th>
                        <th>과학</th>
                        <th>기가</th>
                        <th>영어</th>
                        <th>정보</th>
                        <th>평균</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>${student.국어}</td>
                        <td>${student.도덕}</td>
                        <td>${student.사회}</td>
                        <td>${student.수학}</td>
                        <td>${student.과학}</td>
                        <td>${student.기술가정}</td>
                        <td>${student.영어}</td>
                        <td>${student.정보}</td>
                        <td>${student.평균}</td>
                    </tr>
                </tbody>
            </table>
            <ul class="list-group mt-3">
                <li class="list-group-item">· 학급 석차: ${totalStudentsClass}명 중 ${student.학급석차}등</li>
                <li class="list-group-item">· 학년 석차: ${totalStudentsGrade}명 중 ${student.학년석차}등</li>
            </ul>
       <h3 class="mt-4"><strong>출결 상황</strong></h3>
       <p>※ 2024.03.01.-2024.12.31.기준입니다.</p>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th rowspan="2">수업일수</th>
                        <th colspan="3">결석</th>
                        <th colspan="3">지각</th>
                        <th colspan="3">조퇴</th>
                        <th colspan="3">결과</th>
                    </tr>
                    <tr>
                        <th>질병</th>
                        <th>미인정</th>
                        <th>기타</th>
                        <th>질병</th>
                        <th>미인정</th>
                        <th>기타</th>
                        <th>질병</th>
                        <th>미인정</th>
                        <th>기타</th>
                        <th>질병</th>
                        <th>미인정</th>
                        <th>기타</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>${student.수업일수}</td>
                        <td>${student.질병결석}</td>
                        <td>${student.미인정결석}</td>
                        <td>${student.기타결석}</td>
                        <td>${student.질병지각}</td>
                        <td>${student.미인정지각}</td>
                        <td>${student.기타지각}</td>
                        <td>${student.질병조퇴}</td>
                        <td>${student.미인정조퇴}</td>
                        <td>${student.기타조퇴}</td>
                        <td>${student.질병결과}</td>
                        <td>${student.미인정결과}</td>
                        <td>${student.기타결과}</td>
                    </tr>
                </tbody>
            </table>
            <ul class="list-group mt-3">
                <li class="list-group-item">· 결석 총계: ${student.결석총계}회</li>
                <li class="list-group-item">· 지각 총계: ${student.지각총계}회</li>
                <li class="list-group-item">· 조퇴 총계: ${student.조퇴총계}회</li>
                <li class="list-group-item">· 결과 총계: ${student.결과총계}회</li>
            </ul>
            <h5 class="mt-4">· 출결 상황은 변동이 있을 수 있습니다.</h5> 
            <h5 class="mt-4">· 기타 문의 사항은 각 반 담임선생님께 부탁드립니다.</h5>
        `;
    </script>
</body>
</html>
